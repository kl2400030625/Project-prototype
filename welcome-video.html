<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Welcome - PathFinder</title>
  <link rel="stylesheet" href="css/styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="welcome-video-page">
    <div class="welcome-video-container">
      <h1 id="welcomeTitle">Welcome to PathFinder!</h1>
      <p id="welcomeSubtitle">Watch this quick video to learn how we can help you find your perfect career path.</p>
      
      <div class="video-placeholder" id="videoContainer">
        <div class="video-placeholder-content">
          <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="5 3 19 12 5 21 5 3"/></svg>
          <p id="videoMessage">No welcome video available yet.<br>Your admin will add one soon!</p>
        </div>
      </div>
      
      <a href="dashboard.html" class="btn btn-primary btn-lg">
        Continue to Dashboard
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
      </a>
    </div>
  </div>
  
  <script src="js/main.js"></script>
  <script>
    // Check if user is logged in
    if (!DataStore.currentUser || DataStore.currentUser.role === 'admin') {
      window.location.href = 'login.html';
    }
    
    // Get user's primary interest for welcome video
    const profile = DataStore.currentUser.profile;
    let domain = 'general';
    
    if (profile && profile.interests && profile.interests.length > 0) {
      domain = profile.interests[0];
    }
    
    // Check if there's a welcome video for this domain
    const welcomeVideo = DataStore.welcomeVideos[domain] || DataStore.welcomeVideos['general'];
    
    if (welcomeVideo) {
      document.getElementById('videoContainer').innerHTML = `
        <iframe 
          width="100%" 
          height="100%" 
          src="${welcomeVideo}" 
          frameborder="0" 
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
          allowfullscreen
          style="border-radius: var(--radius);">
        </iframe>
      `;
    }
    
    // Update title based on interest
    const interestTitles = {
      technology: 'Your Tech Career Awaits!',
      medicine: 'Your Medical Journey Begins!',
      business: 'Your Business Path Starts Here!',
      engineering: 'Your Engineering Future Awaits!',
      arts: 'Your Creative Journey Begins!',
      science: 'Your Scientific Adventure Starts!',
      law: 'Your Legal Career Awaits!',
      media: 'Your Media Journey Begins!'
    };
    
    if (interestTitles[domain]) {
      document.getElementById('welcomeTitle').textContent = interestTitles[domain];
    }
  </script>
</body>
</html>
